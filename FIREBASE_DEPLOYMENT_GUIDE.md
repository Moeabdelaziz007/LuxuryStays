# دليل نشر تطبيق StayX على Firebase

هذا الدليل يشرح كيفية نشر تطبيق StayX على Firebase Hosting لجعله متاحًا على الإنترنت.

## المتطلبات المسبقة

1. حساب Firebase (يمكنك استخدام حساب Google الخاص بك)
2. تثبيت Firebase CLI (تم تثبيته بالفعل في هذا المشروع)

## خطوات النشر

### 1. تسجيل الدخول إلى Firebase

افتح نافذة terminal واستخدم الأمر التالي:

```bash
npx firebase login
```

سيفتح متصفح ويطلب منك تسجيل الدخول إلى حساب Google الخاص بك.

### 2. التحقق من معرف المشروع

تأكد من أن معرف المشروع في ملف `.firebaserc` يتطابق مع مشروع Firebase الخاص بك. إذا كنت بحاجة إلى تغييره، قم بتعديل الملف:

```json
{
  "projects": {
    "default": "معرف-مشروع-الفايربيس-الخاص-بك"
  }
}
```

### 3. بناء التطبيق

قم ببناء التطبيق باستخدام الأمر:

```bash
npm run build
```

سينشئ هذا الأمر مجلد `dist` يحتوي على ملفات التطبيق المجمعة.

### 4. نشر التطبيق

استخدم الأمر التالي لنشر التطبيق على Firebase:

```bash
npx firebase deploy
```

أو يمكنك استخدام النص البرمجي الذي أنشأناه:

```bash
./firebase-deploy.sh
```

### 5. الوصول إلى التطبيق المنشور

بعد اكتمال عملية النشر، ستتلقى رابطًا للتطبيق المنشور، عادةً ما يكون بالشكل:
`https://معرف-مشروعك.web.app` أو `https://معرف-مشروعك.firebaseapp.com`

## إعدادات إضافية (اختيارية)

### تكوين مجال مخصص

1. قم بإضافة مجالك المخصص في لوحة تحكم Firebase (Hosting > Add custom domain)
2. اتبع التعليمات لإعداد سجلات DNS

### تحديث قواعد الأمان

تم تكوين قواعد الأمان في ملف `firebase-rules.txt`. إذا كنت ترغب في تحديثها:

1. انسخ محتوى الملف
2. انتقل إلى لوحة تحكم Firebase > Firestore > Rules
3. الصق القواعد الجديدة واحفظها

## استكشاف الأخطاء وإصلاحها

إذا واجهت مشكلات في النشر:

1. تأكد من أن لديك الأذونات المناسبة لمشروع Firebase
2. تحقق من معرف المشروع في ملف `.firebaserc`
3. تأكد من أن البناء تم بنجاح ومجلد `dist/public` موجود
4. جرب تنفيذ `npx firebase init` واختر Hosting فقط لإعادة تهيئة التكوين

## ملاحظات

- يتم تكوين Firebase Hosting للتعامل مع تطبيقات الصفحة الواحدة (SPA) من خلال إعادة توجيه جميع المسارات إلى `index.html`.
- إذا قمت بتغيير قواعد Firestore، تأكد من نشرها باستخدام `firebase deploy --only firestore:rules`.
- لنشر تحديثات لاحقة، كرر الخطوات 3 و 4 فقط.